{"version":3,"sources":["webpack:///src/views/audits/think.vue","webpack:///./src/views/audits/think.vue?033e","webpack:///./src/views/audits/think.vue"],"names":["think","_this","this","page","pageSize","data","_this2","id","_this3","formData","size","getdata","val","audits_think","render","_vm","_h","$createElement","_c","_self","attrs","tableData","border","type","width","_v","label","scopedSlots","_u","key","fn","scope","staticStyle","margin-left","_s","row","username","_e","createTime","reason","on","click","$event","handle","_id","dialogTableVisible","title","visible","update:visible","ref","model","label-width","_l","item","margin-right","text-align","staticClass","src","margin","value","callback","$$v","$set","expression","placeholder","change","clear","background","page-sizes","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.dda3b3a45a654a321818.js","sourcesContent":["<template>\n  <div>\n    <el-table\n      :data=\"tableData\"\n      border>\n      <el-table-column\n        type=\"index\"\n        width=\"50\">\n      </el-table-column>\n      <el-table-column\n        label=\"username\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.username}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"状态\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"success\" v-if=\"scope.row.type==1\">通过</el-tag>\n          <el-tag type=\"info\" v-if=\"scope.row.type==0\">审核中</el-tag>\n          <el-tag type=\"danger\" v-if=\"scope.row.type==2\">未通过</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"时间\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.createTime}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"理由\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.reason}}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\">\n      <template slot-scope=\"scope\">\n        <el-button\n          size=\"mini\"\n          @click=\"handle(scope.row._id),dialogTableVisible = true\" >操作</el-button>\n      </template>\n    </el-table-column>\n    </el-table>\n    <el-dialog title=\"审核\" :visible.sync=\"dialogTableVisible\" width=\"80%\">\n      <el-form ref=\"form\" :model=\"formData\" label-width=\"100px\">\n        <el-form-item>\n          <div v-for=\"item in formData.img\" style=\"margin-right: 100px;\">\n            <div style=\"text-align: center;\"><img :src=\"item\" class=\"avatar\"></div>\n          </div>\n        </el-form-item>\n        <el-form-item class=\"footer\">\n          <div style=\"margin: 0 auto;width: 500px;\">\n            <el-radio-group class=\"left group\" v-model=\"formData.type\" >\n              <el-radio label=\"1\">通过</el-radio>\n              <el-radio label=\"2\">不通过</el-radio>\n            </el-radio-group>\n            <el-input class=\"left reason\" v-model=\"formData.reason\" placeholder=\"请输入理由\"></el-input>\n            <el-button class=\"left\" type=\"primary\" @click=\"change()\">提交</el-button>\n            <div style=\"clear: both\"></div>\n          </div>\n          <div style=\"clear: both\"></div>\n\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n    <el-pagination\n      background\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :page-sizes=\"[5, 10, 15, 20]\"\n      :page-size=\"5\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      class=\"bottom\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"list\",\n    data() {\n      return {\n        tableData:[],\n        dialogTableVisible: false,\n        formData:{\n          img: [],\n          type: '',\n          reason: ''\n        },\n        id:\"\",//用来查询的id\n        pageSize: 5,\n        page: 1\n\n      }\n    },\n    methods:{\n      getdata(){\n        let page = this.page;\n        let pageSize = this.pageSize;\n        let params = {page, pageSize,kind:1};\n        this.$axios.post('getaudits',params,{withCredentials: true}).then((res)=>{\n          this.tableData = res.data\n        })\n      },\n      handle(id){\n        this.$axios.post('getaudits',{id,kind:1}).then(res=>{\n          this.formData = res.data[0]\n          this.id = id\n        })\n      },\n      change(){\n        let params ={\n          ...this.formData,\n          id:this.id,\n          kind:2\n        }\n        this.$axios.post(\"updateaudits\",params).then(res=>{\n          if(res.code==200){\n            this.$message({\n              type: 'success',\n              message: '修改成功!'\n            });\n            setTimeout(()=>{\n              // this.$router.push('/crmaudits')\n              this.$router.go(0)\n            },1000)\n          }\n\n        })\n      },\n      handleSizeChange(size) {\n        // console.log(`每页 ${val} 条`);\n        this.pageSize = size;\n        this.getdata();\n\n      },\n      handleCurrentChange(val) {\n        // console.log(`当前页: ${val}`);\n        this.page = val;\n        this.getdata();\n      }\n    },\n    created(){\n      this.getdata()\n    }\n  }\n</script>\n\n<style scoped>\n  .img-item{\n    width: 100px;\n    max-height: 100px;\n  }\n\n  .avatar{\n    width: 400px;\n    height: 200px;\n  }\n  .left{\n    float: left;\n    margin-left: 20px;\n  }\n  .group{\n    line-height: 40px;\n    margin-left: 0;\n  }\n  .reason{\n    width: 200px;\n  }\n  .footer{\n    background: #eeeeee;\n    /*padding: 10px 0;*/\n    margin-bottom: 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/audits/think.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"username\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.username))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type==1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"通过\")]):_vm._e(),_vm._v(\" \"),(scope.row.type==0)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"审核中\")]):_vm._e(),_vm._v(\" \"),(scope.row.type==2)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"未通过\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.createTime))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"理由\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.reason))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handle(scope.row._id),_vm.dialogTableVisible = true}}},[_vm._v(\"操作\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"审核\",\"visible\":_vm.dialogTableVisible,\"width\":\"80%\"},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"label-width\":\"100px\"}},[_c('el-form-item',_vm._l((_vm.formData.img),function(item){return _c('div',{staticStyle:{\"margin-right\":\"100px\"}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item}})])])})),_vm._v(\" \"),_c('el-form-item',{staticClass:\"footer\"},[_c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"500px\"}},[_c('el-radio-group',{staticClass:\"left group\",model:{value:(_vm.formData.type),callback:function ($$v) {_vm.$set(_vm.formData, \"type\", $$v)},expression:\"formData.type\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"通过\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"不通过\")])],1),_vm._v(\" \"),_c('el-input',{staticClass:\"left reason\",attrs:{\"placeholder\":\"请输入理由\"},model:{value:(_vm.formData.reason),callback:function ($$v) {_vm.$set(_vm.formData, \"reason\", $$v)},expression:\"formData.reason\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"left\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.change()}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})])],1)],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"bottom\",attrs:{\"background\":\"\",\"page-sizes\":[5, 10, 15, 20],\"page-size\":5,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0929bf4b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/audits/think.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0929bf4b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./think.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./think.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./think.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0929bf4b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./think.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0929bf4b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/audits/think.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}