webpackJsonp([13],{AJW4:function(t,e){},V7hh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"news",components:{pagination:a("spLH").a},data:function(){return{tableData:[],params:{page:1,pageSize:5}}},methods:{getdata:function(){var t=this;this.$axios.post("getcategory",this.params,{withCredentials:!0}).then(function(e){t.tableData=e.data})},delData:function(t){var e=this;this.$confirm("此操作将永久删除该新闻分类, 是否继续?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(function(){e.$axios.post("delcategory",{id:t}).then(function(t){console.log(t),200==t.code&&(e.$message({message:"新闻分类删除成功",type:"success"}),setTimeout(function(){e.$router.go(0)},1e3))})}).catch(function(){console.log(res.err)})},edit:function(t){this.$router.push({path:"/crmcategory/update",query:{id:t}})},pageSizeChange:function(t){this.params.pageSize=t,this.getdata()},currentPageChange:function(t){this.params.page=t,this.getdata()}},created:function(){this.getdata()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{label:"分类标题"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.label))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.value))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.edit(e.row._id)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.delData(e.row._id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("pagination",{on:{pageSizeChange:t.pageSizeChange,currentPageChange:t.currentPageChange}})],1)},staticRenderFns:[]};var o=a("VU/8")(n,i,!1,function(t){a("AJW4")},"data-v-797d2e62",null);e.default=o.exports}});
//# sourceMappingURL=13.4a36ca36098daa8e1056.js.map