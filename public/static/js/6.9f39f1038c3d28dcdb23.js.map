{"version":3,"sources":["webpack:///src/views/audits/summary.vue","webpack:///./src/views/audits/summary.vue?0a44","webpack:///./src/views/audits/summary.vue"],"names":["_this","this","page","pageSize","discussId","console","log","data","_this2","id","_this3","formData","_this4","_id","getdata","size","val","getdiscuss","audits_summary","render","_vm","_h","$createElement","_c","_self","attrs","tableData","border","type","width","_v","label","scopedSlots","_u","key","fn","scope","staticStyle","margin-left","_s","row","username","status","_e","branchName","discussName","createTime","reason","on","click","$event","handle","dialogTableVisible","title","visible","update:visible","ref","model","label-width","_l","item","margin-right","text-align","staticClass","src","margin","value","callback","$$v","$set","expression","placeholder","change","clear","background","page-sizes","page-size","layout","size-change","handleSizeChange","current-change","handleCurrentChange","staticRenderFns","Component","__webpack_require__","normalizeComponent","summary","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.9f39f1038c3d28dcdb23.js","sourcesContent":["<template>\n  <div>\n    <el-table\n      :data=\"tableData\"\n      border>\n      <el-table-column\n        type=\"index\"\n        width=\"50\">\n      </el-table-column>\n      <el-table-column\n        label=\"username\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.username}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"状态\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"success\" v-if=\"scope.row.status==1\">通过</el-tag>\n          <el-tag type=\"info\" v-if=\"scope.row.status==0\">审核中</el-tag>\n          <el-tag type=\"danger\" v-if=\"scope.row.status==2\">未通过</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"用户分类\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.branchName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"民主评议描述\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.discussName}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"时间\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.createTime}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        label=\"理由\">\n        <template slot-scope=\"scope\">\n          <span style=\"margin-left: 10px\">{{ scope.row.reason}}</span>\n        </template>\n      </el-table-column>\n\n      <el-table-column label=\"操作\">\n      <template slot-scope=\"scope\">\n        <el-button\n          size=\"mini\"\n          @click=\"handle(scope.row._id),dialogTableVisible = true\" >操作</el-button>\n      </template>\n    </el-table-column>\n    </el-table>\n    <el-dialog title=\"审核\" :visible.sync=\"dialogTableVisible\" width=\"80%\">\n      <el-form ref=\"form\" :model=\"formData\" label-width=\"100px\">\n        <el-form-item>\n          <div v-for=\"item in formData.pic\" style=\"margin-right: 100px;\">\n            <div style=\"text-align: center;\"><img :src=\"item\" class=\"avatar\"></div>\n          </div>\n        </el-form-item>\n        <el-form-item class=\"footer\">\n          <div style=\"margin: 0 auto;width: 500px;\">\n            <el-radio-group class=\"left group\" v-model=\"formData.status\" >\n              <el-radio label=\"1\">通过</el-radio>\n              <el-radio label=\"2\">不通过</el-radio>\n            </el-radio-group>\n            <el-input class=\"left reason\" v-model=\"formData.reason\" placeholder=\"请输入理由\"></el-input>\n            <el-button class=\"left\" type=\"primary\" @click=\"change()\">提交</el-button>\n            <div style=\"clear: both\"></div>\n          </div>\n          <div style=\"clear: both\"></div>\n\n        </el-form-item>\n      </el-form>\n    </el-dialog>\n    <el-pagination\n      background\n      @size-change=\"handleSizeChange\"\n      @current-change=\"handleCurrentChange\"\n      :page-sizes=\"[5, 10, 15, 20]\"\n      :page-size=\"5\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      class=\"bottom\"\n    >\n    </el-pagination>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: \"list\",\n    data() {\n      return {\n        tableData:[],\n        dialogTableVisible: false,\n        formData:{\n          pic: [],\n          status: '',\n          reason: ''\n        },\n        id: \"\",//用来查询的id\n        discussId: '',  //民主评议的id\n        pageSize: 5,\n        page: 1\n      }\n    },\n    methods:{\n      getdata(){\n        let page = this.page;\n        let pageSize = this.pageSize;\n        let discussId = this.discussId;\n        let params = {page, pageSize,discussId};\nconsole.log(discussId)\n        this.$axios.post('getsummary',params).then((res)=>{\n          this.tableData = res.data\n        })\n      },\n      handle(id){\n        this.$axios.post('getsummary',{id}).then(res=>{\n          this.formData = res.data\n          this.id = id\n        })\n      },\n      change(){\n        let params ={\n          ...this.formData,\n          id:this.id,\n          kind:2\n        }\n        this.$axios.post(\"updatesummary\",params).then(res=>{\n          if(res.code==200){\n            this.$message({\n              type: 'success',\n              message: '修改成功!'\n            });\n            setTimeout(()=>{\n              // this.$router.push('/crmaudits')\n              this.$router.go(0)\n            },1000)\n          }\n\n        })\n      },\n      getdiscuss(){\n        this.$axios.post('getDiscuss',{status:1}).then(res=>{\n          if(res.code==200){\n            this.discussId = res.data._id\n            this.getdata()\n          }\n\n        })\n      },\n      handleSizeChange(size) {\n        // console.log(`每页 ${val} 条`);\n        this.pageSize = size;\n        this.getdata();\n\n      },\n      handleCurrentChange(val) {\n        // console.log(`当前页: ${val}`);\n        this.page = val;\n        this.getdata();\n      }\n    },\n    created(){\n      this.getdiscuss()\n    }\n  }\n</script>\n\n<style>\n  .el-table .cell{\n    white-space: nowrap;\n  }\n</style>\n<style scoped>\n  .img-item{\n    width: 100px;\n    max-height: 100px;\n  }\n\n  .avatar{\n    width: 400px;\n    height: 200px;\n  }\n  .left{\n    float: left;\n    margin-left: 20px;\n  }\n  .group{\n    line-height: 40px;\n    margin-left: 0;\n  }\n  .reason{\n    width: 200px;\n  }\n  .footer{\n    background: #eeeeee;\n    /*padding: 10px 0;*/\n    margin-bottom: 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/audits/summary.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"username\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.username))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status==1)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"通过\")]):_vm._e(),_vm._v(\" \"),(scope.row.status==0)?_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(\"审核中\")]):_vm._e(),_vm._v(\" \"),(scope.row.status==2)?_c('el-tag',{attrs:{\"type\":\"danger\"}},[_vm._v(\"未通过\")]):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"用户分类\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.branchName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"民主评议描述\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.discussName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.createTime))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"理由\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.reason))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.handle(scope.row._id),_vm.dialogTableVisible = true}}},[_vm._v(\"操作\")])]}}])})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"审核\",\"visible\":_vm.dialogTableVisible,\"width\":\"80%\"},on:{\"update:visible\":function($event){_vm.dialogTableVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.formData,\"label-width\":\"100px\"}},[_c('el-form-item',_vm._l((_vm.formData.pic),function(item){return _c('div',{staticStyle:{\"margin-right\":\"100px\"}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":item}})])])})),_vm._v(\" \"),_c('el-form-item',{staticClass:\"footer\"},[_c('div',{staticStyle:{\"margin\":\"0 auto\",\"width\":\"500px\"}},[_c('el-radio-group',{staticClass:\"left group\",model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_c('el-radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"通过\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"不通过\")])],1),_vm._v(\" \"),_c('el-input',{staticClass:\"left reason\",attrs:{\"placeholder\":\"请输入理由\"},model:{value:(_vm.formData.reason),callback:function ($$v) {_vm.$set(_vm.formData, \"reason\", $$v)},expression:\"formData.reason\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"left\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.change()}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"clear\":\"both\"}})])],1)],1),_vm._v(\" \"),_c('el-pagination',{staticClass:\"bottom\",attrs:{\"background\":\"\",\"page-sizes\":[5, 10, 15, 20],\"page-size\":5,\"layout\":\"total, sizes, prev, pager, next, jumper\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6d194652\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/audits/summary.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d194652\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./summary.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d194652\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./summary.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./summary.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./summary.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d194652\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./summary.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6d194652\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/audits/summary.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}